{% extends 'base.html' %} {% block content %}

<!-- Add Item Form -->

<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg border border-gray-100 mt-6">
  <h2 class="text-xl font-semibold text-gray-700 mb-3">Edit Item</h2>
  <p class="text-sm text-gray-400 mb-3">Update {{item.name}} information</p>
  <form method="POST" enctype="multipart/form-data" action="{{ url_for('main.edit_item', item_id= item.id) }}">
    {{ form.hidden_tag() }}
    <div class="mb-4 flex items-center justify-between p-2 bg-green-50 border border-green-200 rounded-lg">
      <p class="text-sm text-gray-600">Quick Add with Barcode</p>
      <button
        class="bg-green-500 px-4 py-1.5 rounded-sm text-white font-medium text-sm flex items-center gap-2 hover:bg-green-600 transition-colors"
        type="button"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-scan-icon lucide-scan"
        >
          <path d="M3 7V5a2 2 0 0 1 2-2h2" />
          <path d="M17 3h2a2 2 0 0 1 2 2v2" />
          <path d="M21 17v2a2 2 0 0 1-2 2h-2" />
          <path d="M7 21H5a2 2 0 0 1-2-2v-2" /></svg
        >Scan Barcode
      </button>
    </div>
    <!-- Item name field -->
    <div class="mb-4">
      {{ form.name.label(class="block text-gray-600 mb-2") }} {{ form.name(class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none mb-2",
      placeholder="e.g Organic Milk") }} {% for error in form.name.errors %}
    </div>
    <p class="mt-1 text-sm text-red-600">{{ error }}</p>
    {% endfor %}
    <div class="mb-4 grid grid-cols-2 space-x-4">
      <div class="col-span-1">
        {{ form.quantity.label(class="block text-gray-600 mb-2") }} {{ form.quantity(class="w-full px-4 py-2.5 border border-gray-300 rounded-lg
        focus:outline-none mb-2", placeholder="0", main="0", step="0.01") }}
      </div>
      <div class="col-span-1">
        {{ form.unit_id.label(class="block text-gray-600 mb-2") }} {{ form.unit_id(class="w-full px-4 py-2.5 border border-gray-300 rounded-lg
        focus:outline-none mb-2") }} {% for error in form.unit_id.errors %}
        <p class="text-red-500 text-xs mt-1">{{ error }}</p>
        {% endfor %}
      </div>
    </div>
    <div class="mb-4 grid grid-cols-2 space-x-4">
      <div class="col-span-1">
        {{ form.category_id.label(class="block text-gray-600 mb-2") }} {{ form.category_id(class="w-full px-4 py-2.5 border border-gray-300 rounded-lg
        focus:outline-none mb-2") }} {% for error in form.unit_id.errors %}
        <p class="text-red-500 text-xs mt-1">{{ error }}</p>
        {% endfor %}
      </div>
      <div class="col-span-1">
        {{ form.location_id.label(class="block text-gray-600 mb-2") }} {{ form.location_id(class="w-full px-4 py-2.5 border border-gray-300 rounded-lg
        focus:outline-none mb-2") }} {% for error in form.unit_id.errors %}
        <p class="text-red-500 text-xs mt-1">{{ error }}</p>
        {% endfor %}
      </div>
    </div>
    <div class="mb-4 grid grid-cols-2 space-x-4">
      <div class="col-span-1">
        {{ form.purchase_date.label(class="block text-gray-600 mb-2") }} {{ form.purchase_date(class="w-full px-4 py-2.5 border border-gray-300 rounded-lg
        focus:outline-none mb-2") }} {% for error in form.unit_id.errors %}
        <p class="text-red-500 text-xs mt-1">{{ error }}</p>
        {% endfor %}
      </div>
      <div class="col-span-1">
        {{ form.expiry_date.label(class="block text-gray-600 mb-2") }} {{ form.expiry_date(class="w-full px-4 py-2.5 border border-gray-300 rounded-lg
        focus:outline-none mb-2") }} {% for error in form.unit_id.errors %}
        <p class="text-red-500 text-xs mt-1">{{ error }}</p>
        {% endfor %}
      </div>
    </div>
    <div class="mb-4 grid grid-cols-1 space-x-6 items-center">
      <div class="col-span-1">
        {{ form.photo.label(class="block text-gray-600 mb-2") }} {{ form.photo(class="block w-full border border-gray-300 rounded-lg text-sm text-gray-600
        file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:bg-green-50 file:text-green-700 hover:file:bg-green-100 cursor-pointer")
        }} {% for error in form.unit_id.errors %}
        <p class="text-red-500 text-xs mt-1">{{ error }}</p>
        {% endfor %}
      </div>
    </div>
    <div class="mb-4 grid grid-cols-2 space-x-4">
      <div class="col-span-1">
        <div class="col-span-1">
          <button
            type="submit"
            class="w-full bg-green-500 text-white px-12 py-2 rounded-sm hover:bg-green-600 transition-colors cursor-pointer flex items-center justify-center gap-2"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-save-icon lucide-save"
            >
              <path d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z" />
              <path d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7" />
              <path d="M7 3v4a1 1 0 0 0 1 1h7" /></svg
            >Update Item
          </button>
        </div>
      </div>
      <div class="col-span-1">
        <a
          href="{{url_for('main.inventory')}}"
          class="block w-full border border-gray-300 text-slate-600/60 px-12 py-2 rounded-sm transition-colors cursor-pointer text-center flex items-center justify-center"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-x-icon lucide-x"
          >
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" /></svg
          >Cancel</a
        >
      </div>
    </div>
  </form>
</div>
{% endblock %}
